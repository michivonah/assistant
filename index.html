<!DOCTYPE html>
<html lang="de">
<head>
         <title>Assistent Tap</title>
         <meta name="apple-mobile-web-app-title" content="Assistent Tap">
         <link rel="icon" type="image/png" href="logo.png">
         <link rel="shortcut icon" type="image/png" href="logo.png">
         <link rel="apple-touch-icon" href="logo.png" sizes="any">
         <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css">
         <link rel="stylesheet" type="text/css" href="style.css"/>
         <script language="javascript" type="text/javascript" src="script.js"></script>
         <meta charset="UTF-8">
         <meta name="theme-color" content="#000000">
         <meta name="apple-mobile-web-app-status-bar-style" content="#ffffff">
         <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
         <meta name="mobile-web-app-capable" content="yes">
         <meta name="apple-mobile-web-app-capable" content="yes">
         <link rel="manifest" href="manifest.json">
         <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

</head>
<body>

          <!-- Loadingscreen -->
          <div id="loading-screen">
              <div id="loading"></div>
          </div>

      <div id="content">
        <div id="chat">
          <div class="received-message">
            <p>Hallo, mein Name ist Tap. Wie kann ich dir helfen?</p>
            <h5 class="received-date">Heute</h5>
          </div>
          <div id="writing">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
        </div>
        <p id="error-empty" class="error">Ihre Nachricht ist leer.</p>
        <div id="user-chatfield">
          <input id="chat-input" type="text" placeholder="Type here....">
          <button id="send-btn"><i class="fas fa-paper-plane"></i></button>
        </div>
      </div>



      <script>
      // Loading
      $(window).on("load", function(){
        $("#loading-screen").fadeOut(750);
      });

      // send answer
      function sendanswer(answer){
        var remessagebubbel = $("<div class='received-message'></div>");
        var gettime = new Date();
        var h = gettime.getHours();
        var min = gettime.getMinutes();
        var time = h + ':' + min;
        var remessagedate = $("<h5 class='received-date'>15:26, 04.10.2020</h5>").text(time);
        var remessagetext = $("<p>text</p>").text(answer);
        remessagebubbel.append(remessagetext, remessagedate);
        $('#writing').css('display', 'none');
        $("#chat").append(remessagebubbel);
      }

      // all answers
      function getanswer(message){
        if(message.toUpperCase().includes('HI') || message.toUpperCase().includes('HALLO') || message.toUpperCase().includes('HELLO') || message.toUpperCase().includes('SALI') || message.toUpperCase().includes('GR√úEZI') || message.toUpperCase().includes('HOI') || message.toUpperCase().includes('HEY')){
          var answer = "Hallo!";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('WITZ')){
          var answer = "Witz wird geschrieben....";
          sendanswer(answer);
          var answer = "Ich habe mit der Pflanze ausgemacht, sie nur noch einmal im Monat zu gie√üen. Sie ist darauf eingegangen.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('GEHT ES DIR')){
          var answer = "Mir geht es gut, danke der Nachfrage.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('HEISST DU') || message.toUpperCase().includes('DEIN') && message.toUpperCase().includes('NAME')){
          var answer = "Ich heise Tap.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('DEINE LIEBLINGSFARBE')){
          var answer = "Hmm, meine Lieblingsfarbe ist gr√ºn.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('SP√ÑT IST ES') || message.toUpperCase().includes('ZEIT')){
          var answer = "Unten im Eck dieser Textblase siehst du die Uhrzeit.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('GROSS') && message.toUpperCase().includes('ERDE')){
          var answer = "Die Erde ist 510‚Äô100‚Äô000 km¬≤ gross.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('EINWOHNER') && message.toUpperCase().includes('SCHWEIZ')){
          var answer = "Die Schweiz hat 8.6 Milionen Einwohner. Quelle: wikipedia";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('KANNST DU')){
          var answer = "Zurzeit kann ich noch nicht besonders viel. Es wird aber immer mehr. Zurzeit kann ich dir bereits einen Witz erz√§hlen oder etwas √ºber mich.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('ICH') && message.toUpperCase().includes('GEBURTSTAG')){
          var answer = "Happy Birthday üéÅüéâ";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('DU HUNGER')){
          var answer = "Nein, ich habe schon etwas gegessen.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('FEEDBACK') || message.toUpperCase().includes('R√úCKMELDUNG') || message.toUpperCase().includes('BEWERTUNG')){
          var answer = "Gerne kannst du mir ein Feedback geben. https://forms.gle/fkmXZpzzS7wssVHm6";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('WASSER') && message.toUpperCase().includes('TAG')){
          var answer = "An einem Tag solltest du ungef√§hr 2 Liter Wasser trinken.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('ZUCKER') && message.toUpperCase().includes('TAG')){
          var answer = "Pro Tag solltest du nicht mehr als 50g Zucker zu dir nehmen.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('SPRACHEN') && message.toUpperCase().includes('DU')){
          var answer = "Ich spreche zurzeit nur Deutsch und kann noch nicht √ºbersetzen.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('FUNFACT')){
          var answer = "Skorpione k√∂nnen bis zu einem Jahr ohne Nahrung √ºberleben.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('HAST DU BROT')){
          var answer = "Nein und ich habe auch keine N√§gel.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('√ñFFNE') && message.toUpperCase().includes('SPOTIFY')){
          var answer = "Wird gemacht....";
          sendanswer(answer);
          window.open('https://open.spotify.com/playlist/37i9dQZEVXbJiyhoAPEfMK?si=2fX4Gxt8TVCseW9yyJ6bdQ');
        }
        else if(message.toUpperCase().includes('#INFO')){
          var answer = "Befehl noch nicht verf√ºgbar.";
          //var answer = "Letztes Update: 06.10.2020";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('WANN') && message.toUpperCase().includes('HALLOWEEN')){
          var answer = "Halloween ist dieses Jahr am 31. Oktober.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('WANN') && message.toUpperCase().includes('WEIHNACHTEN')){
          var answer = "Weihnachten ist am 25. Dezember.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('ENTWICKLER')){
          var answer = "Ich wurde von Michi von Ah programmiert. Er heisst auf Instagram @michivonah";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('WER') && message.toUpperCase().includes('ELON MUSK')){
          var answer = "Elon Musk ist der Gr√ºnder und CEO von Tesla. Er ist 49 Jahre alt.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('WER') && message.toUpperCase().includes('MARK ZUCKERBERG')){
          var answer = "Mark Zuckerberg ist der Gr√ºnder von Facebook. Ihm geh√∂ren zudem die Apps WhatsApp und Instagram. Er ist 36 Jahre alt.";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('JA')){
          var answer = "Super";
          sendanswer(answer);
        }
        else if(message.toUpperCase().includes('NEIN')){
          var answer = "Schade";
          sendanswer(answer);
        }
        else{
          var answer = "Tut mir leid, das weiss ich noch nicht. Ich lerne noch, frage mich das doch ein andermal erneut. üòÖ";
          sendanswer(answer);
        }
      }

      // send message
      function sendmessage(){
        if($("#chat-input").val() != ""){
          $('#error-empty').css('display', 'none');
          var message = $("#chat-input").val();
          var usermessagebubbel = $("<div class='user-message'></div>");
          //time
          var gettime = new Date();
					var h = gettime.getHours();
					var min = gettime.getMinutes();
					var time = h + ':' + min;
          var messagedate = $("<h5 class='user-date'>15:26, 04.10.2020</h5>").text(time);
          var messagetext = $("<p>test</p>").text($("#chat-input").val());
          var read = $("<h5 class='user-read'><i class='far fa-check-circle'></i><i class='fas fa-check-circle'></i></h5>");
          usermessagebubbel.append(messagetext, messagedate, read);
          $("#chat").append(usermessagebubbel);
          $("#chat-input").val("");
          $("html, body").animate({ scrollTop: $(document).height() }, 1000);
          $('#writing').css('display', 'block');
          getanswer(message);
        }
        else{
          $('#error-empty').css('display', 'block');
        }
      }

      $("#chat-input").on("keyup", function(e){
        if(e.keyCode == 13){
          sendmessage();

        }
      });

      $("#send-btn").click(function(){
        sendmessage();
      });
      </script>
</body>
</html>
